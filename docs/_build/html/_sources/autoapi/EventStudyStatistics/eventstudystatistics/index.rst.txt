:py:mod:`EventStudyStatistics.eventstudystatistics`
===================================================

.. py:module:: EventStudyStatistics.eventstudystatistics


Submodules
----------
.. toctree::
   :titlesonly:
   :maxdepth: 1

   statistical_tests/index.rst


Package Contents
----------------


Functions
~~~~~~~~~

.. autoapisummary::

   EventStudyStatistics.eventstudystatistics.adjBMP
   EventStudyStatistics.eventstudystatistics.adjBMP_daily
   EventStudyStatistics.eventstudystatistics.grank



.. py:function:: adjBMP(AR: numpy.ndarray, eps: numpy.ndarray, R_market_estimation_window: numpy.ndarray, R_market_event_window: numpy.ndarray, CAR_period: list, adjustment: bool = True) -> TestResults

   adjusted BMP / standardized cross-sectional test as in the paper
   "Event study methodology under conditions of event induced variance" by  BÃ¶hmer et al. (1991)

   null hypothesis: E(CAAR) = 0

   We have n events, L1 days in the estimation window, L2 days in the event window.

   :param AR: abnormal returns, a n x L2 matrix
   :param eps: residuals from the market model, a n x L1 matrix
   :param R_market_estimation_window: returns of the market in the estimation window for each event, a n x L1 matrix
   :param R_market_event_window: returns of the market in the event window for each even, a n x L2 matrix
   :param event_day: day of the event, if day nr 21 is the event day, then event_day = 20
   :param CAR_period: period of the event window we are observing. Careful for 41 days [0, 40] would represent the full
   event window.
   :param adjustment: whether the BMP (False) or the adjusted BMP (True) should be calculated.
   In case of too many events, the cross correlation is estimated because of the runtime complexity of the calculation.
   :return:


.. py:function:: adjBMP_daily(AR: numpy.ndarray, eps: numpy.ndarray, R_market_estimation_window: numpy.ndarray, R_market_event_window: numpy.ndarray, t: int, adjustment: bool = True) -> TestResults

   adjusted BMP / standardized cross-sectional test

   null hypothesis: E(AAR) = 0


   We have n events, L1 days in the estimation window, L2 days in the event window.

   :param AR: abnormal returns, a n x L2 matrix
   :param eps: residuals from the market model, a n x L1 matrix
   :param R_market_estimation_window: returns of the market in the estimation window for each event, a n x L1 matrix
   :param R_market_event_window: returns of the market in the event window for each event, a n x L2 matrix
   :param t: day of the event, if day nr 21 is the event day, then event_day = 20
   :param adjustment: whether the BMP (False) or the adjusted BMP (True) should be calculated.
   In case of too many events, the cross correlation is estimated because of the runtime complexity of the calculation.
   :return: test statistic and p-value


.. py:function:: grank(AR: numpy.ndarray, eps: numpy.ndarray, R_market_estimation_window: numpy.ndarray, R_market_event_window: numpy.ndarray, CAR_period: list, adjust_cumulating_ind_prediction_errors: bool = False) -> TestResults

   Calculate the GRANK / generalized rank t test, as found in the paper "Nonparametric rank tests for event studied"
   by Kolari and Pynnonen (2011). Optional adjustment as found in Mikkelson and Partch (1988) "Withdrawn Security Offerings"

   null hypothesis: E(CAAR) = 0


   We have n events, L1 days in the estimation window, L2 days in the event window.

   :param AR: abnormal returns, a n x L2 matrix
   :param eps: residuals from the market model, a n x L1 matrix
   :param R_market_estimation_window: returns of the market in the estimation window for each event, a n x L1 matrix
   :param R_market_event_window: returns of the market in the event window for each event, a n x L2 matrix
   :param CAR_period: period of the event window we are observing. Careful for 41 days [0, 40] would represent the full
   event window
   :param adjust_cumulating_ind_prediction_errors: Whether to use adjustment factor suggested by Mikkelson and
   Partch (1988), which makes no difference in this case, because we also calculate the SCAR_star, which is
   standardised by the standard deviation of the SCAR, therefore the scalar adjustment factor does not change the result.
   :return: test statistic and p-value


